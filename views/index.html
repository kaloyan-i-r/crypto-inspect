<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<meta name=viewport content="width=device-width,initial-scale=1">
		<title>views</title>
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/vue"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.js" integrity="sha256-t3+U9BqykoMN9cqZmJ5Z53TvPv4V7S9AmjUcIWNNyxo=" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js" integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script>
	</head>
	<body>
		<div id=app>
			{{ message }}
			<table class="table table-striped table-hover">
				<thead class="thead-light">
					<tr>
						<th scope="col">#</th>
						<th scope="col">name</th>
						<th scope="col">price</th>
						<th scope="col">volume</th>
						<th scope="col">1h</th>
						<th scope="col">24h</th>
						<th scope="col">7d</th>
					</tr>
				</thead>
				<tbody>
					<tr v-for="ticker in tickers">
						<td>{{ticker.rank}}</td>
						<td>{{ticker.name}} ({{ticker.symbol}})</td>
						<td>{{ticker.price_usd}}$</td>
						<td>{{ticker['24h_volume_usd']}}$</td>
						<td>{{ticker.percent_change_1h}}</td>
						<td>{{ticker.percent_change_24h}}</td>
						<td>{{ticker.percent_change_7d}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</body>
  <script>
    var app = new Vue({
      el: '#app',
      data: {
				tickers: [],
        message: 'Hello froom crypto views!'
      },
			created: function () {
				this.fetchData();
			},
			methods: {
				fetchData: function () {
					var self = this
					return axios.get('/api/tickers',{ crossdomain: true })
						.then(function (response) {
							self.tickers = response.data
						})
						.catch(function (error) {
							self.fetchError = error
						})
				}
			}
    })
  </script>

</body>
</html>